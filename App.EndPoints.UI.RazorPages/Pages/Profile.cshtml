@page
@model App.EndPoints.UI.RazorPages.Pages.ProfileModel
@{
    // Layout = "Shared/_CustomerDashboardLayout";
    var userId = TempData["UserId"];
}

<div class="goodup-dashboard-content">
    <form class="submit-form" enctype="multipart/form-data" method="post" asp-page-handler="OnPostAsync">
        <div class="dashboard-tlbar d-block mb-5">
            <div class="row">
                <div class="colxl-12 col-lg-12 col-md-12">
                    <h1 class="ft-medium fs-lg">تنظیمات</h1>
                </div>
            </div>
        </div>

        <div class="dashboard-widg-bar d-block">
            <div class="row">
                @if (User.IsInRole("Customer"))
                {
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 order-xl-last order-lg-last order-md-last">
                        <div class="d-flex bg-white rounded px-3 py-3 mb-3">
                            <div class="dash-figure">
                                <input type="hidden" value="@Model.CustomerProfileDetails.ProfileImageUrl" asp-for="@Model.CustomerProfileDetails.ProfileImageUrl" />
                                <div class="dash-figure-thumb"><img src="@Model.CustomerProfileDetails.ProfileImageUrl" class="img-fluid rounded" alt="" /></div>
                                <div class="upload-photo-btn">
                                    <div class="Uploadphoto">
                                        <span><i class="fas fa-upload"></i> آپلود تصویر</span>
                                        <input asp-for="@Model.ProfileImage" type="file" class="upload">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-9 col-lg-9 col-md-8 col-sm-12">
                        <input type="hidden" asp-for="@Model.CustomerProfileDetails.Id" value="@userId" />
                        <div class="dashboard-list-wraps bg-white rounded mb-4">
                            <div class="dashboard-list-wraps-head br-bottom py-3 px-3">
                                <div class="dashboard-list-wraps-flx">
                                    <h4 class="mb-0 ft-medium fs-md"><i class="fa fa-user-check ms-2 theme-cl fs-sm"></i>مشخصات شخصی</h4>
                                </div>
                            </div>

                            <div class="dashboard-list-wraps-body py-3 px-3">
                                <div class="row">
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">نام</label>
                                            <input asp-for="@Model.CustomerProfileDetails.FirstName" type="text" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">نام خانوادگی</label>
                                            <input asp-for="@Model.CustomerProfileDetails.LastName" type="text" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">پست الکترونیک</label>
                                            <input asp-for="@Model.CustomerProfileDetails.Email" type="text" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">شماره تماس</label>
                                            <input asp-for="@Model.CustomerProfileDetails.PhoneNumber" type="text" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">شهر</label>
                                            <select asp-for="@Model.CustomerProfileDetails.Address.CityId" class="form-control">
                                                @if (Model.CustomerProfileDetails.Address is not null)
                                                {
                                                    <option selected value="@Model.CustomerProfileDetails.Address.City.Id">@Model.CustomerProfileDetails.Address.City.Name</option>
                                                }
                                                @foreach (var city in Model.Cities)
                                                {
                                                    <option value="@city.Id">@city.Name</option>
                                                }
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">آدرس</label>
                                            <input asp-for="@Model.CustomerProfileDetails.Address.Street" type="text" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">کد پستی</label>
                                            <input asp-for="@Model.CustomerProfileDetails.Address.PostalCode" type="number" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="dashboard-list-wraps bg-white rounded mb-4">
                            <div class="dashboard-list-wraps-head br-bottom py-3 px-3">
                                <div class="dashboard-list-wraps-flx">
                                    <h4 class="mb-0 ft-medium fs-md"><i class="fa fa-user-friends ms-2 theme-cl fs-sm"></i>شبکه های اجتماعی</h4>
                                </div>
                            </div>

                            <div class="dashboard-list-wraps-body py-3 px-3">
                                <div class="row">
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1"><i class="ti-facebook theme-cl ms-1"></i>فیسبوک</label>
                                            <input asp-for="@Model.CustomerProfileDetails.FacebookAddress" type="text" class="form-control rounded" placeholder="https://facebook.com/" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1"><i class="ti-twitter theme-cl ms-1"></i>توییتر</label>
                                            <input asp-for="@Model.CustomerProfileDetails.TwitterAddress" type="text" class="form-control rounded" placeholder="https://twitter.com/" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1"><i class="ti-instagram theme-cl ms-1"></i>اینستاگرام</label>
                                            <input asp-for="@Model.CustomerProfileDetails.InstagramAddress" type="text" class="form-control rounded" placeholder="https://instagram.com/" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1"><i class="ti-linkedin theme-cl ms-1"></i>لینکدین</label>
                                            <input asp-for="@Model.CustomerProfileDetails.LinkedinAddress" type="text" class="form-control rounded" placeholder="https://linkedin.com/" />
                                        </div>
                                    </div>
                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <button type="submit" class="btn theme-bg rounded text-light">ذخیره تغییرات</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                }
                else if (User.IsInRole("Expert"))
                {
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 order-xl-last order-lg-last order-md-last">
                        <div class="d-flex bg-white rounded px-3 py-3 mb-3">
                            <div class="dash-figure">
                                <input type="hidden" value="@Model.ExpertProfileDetails.ProfileImageUrl" asp-for="@Model.ExpertProfileDetails.ProfileImageUrl" />
                                <div class="dash-figure-thumb"><img src="@Model.ExpertProfileDetails.ProfileImageUrl" class="img-fluid rounded" alt="" /></div>
                                <div class="upload-photo-btn">
                                    <div class="Uploadphoto">
                                        <span><i class="fas fa-upload"></i> آپلود تصویر</span>
                                        <input asp-for="@Model.ProfileImage" type="file" class="upload">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-9 col-lg-9 col-md-8 col-sm-12">
                        <input type="hidden" asp-for="@Model.ExpertProfileDetails.Id" value="@userId" />
                        <div class="dashboard-list-wraps bg-white rounded mb-4">
                            <div class="dashboard-list-wraps-head br-bottom py-3 px-3">
                                <div class="dashboard-list-wraps-flx">
                                    <h4 class="mb-0 ft-medium fs-md"><i class="fa fa-user-check ms-2 theme-cl fs-sm"></i>مشخصات شخصی</h4>
                                </div>
                            </div>

                            <div class="dashboard-list-wraps-body py-3 px-3">
                                <div class="row">
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">نام</label>
                                            <input asp-for="@Model.ExpertProfileDetails.FirstName" type="text" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">نام خانوادگی</label>
                                            <input asp-for="@Model.ExpertProfileDetails.LastName" type="text" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">پست الکترونیک</label>
                                            <input asp-for="@Model.ExpertProfileDetails.Email" type="text" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">شماره تماس</label>
                                            <input asp-for="@Model.ExpertProfileDetails.PhoneNumber" type="text" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">سن</label>
                                            <input asp-for="@Model.ExpertProfileDetails.Age" type="number" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">شهر</label>
                                            <select asp-for="@Model.ExpertProfileDetails.Address.CityId" class="form-control">
                                                @if (Model.ExpertProfileDetails.Address is not null)
                                                {
                                                    <option selected value="@Model.ExpertProfileDetails.Address.City.Id">@Model.ExpertProfileDetails.Address.City.Name</option>
                                                }
                                                @foreach (var city in Model.Cities)
                                                {
                                                    <option value="@city.Id">@city.Name</option>
                                                }
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">آدرس</label>
                                            <input asp-for="@Model.ExpertProfileDetails.Address.Street" type="text" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">کد پستی</label>
                                            <input asp-for="@Model.ExpertProfileDetails.Address.PostalCode" type="number" class="form-control rounded" placeholder="" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-3">
                                        <label class="mb-1">مهارت ها</label>
                                        <select asp-for="@Model.ExpertProfileDetails.ServiceIds" class="js-example-basic-multiple form-control" multiple="multiple">
                                            @foreach (var service in Model.Services)
                                            {
                                                <option value="@service.Id">@service.Title</option>
                                            }
                                        </select>
                                    </div>
                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1">توضیحات</label>
                                            <textarea asp-for="@Model.ExpertProfileDetails.AboutMe" class="form-control rounded ht-150" placeholder="درباره من..."></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="dashboard-list-wraps bg-white rounded mb-4">
                            <div class="dashboard-list-wraps-head br-bottom py-3 px-3">
                                <div class="dashboard-list-wraps-flx">
                                    <h4 class="mb-0 ft-medium fs-md"><i class="fa fa-user-friends ms-2 theme-cl fs-sm"></i>شبکه های اجتماعی</h4>
                                </div>
                            </div>

                            <div class="dashboard-list-wraps-body py-3 px-3">
                                <div class="row">
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1"><i class="ti-facebook theme-cl ms-1"></i>فیسبوک</label>
                                            <input asp-for="@Model.ExpertProfileDetails.FacebookAddress" type="text" class="form-control rounded" placeholder="https://facebook.com/" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1"><i class="ti-twitter theme-cl ms-1"></i>توییتر</label>
                                            <input asp-for="@Model.ExpertProfileDetails.TwitterAddress" type="text" class="form-control rounded" placeholder="https://twitter.com/" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1"><i class="ti-instagram theme-cl ms-1"></i>اینستاگرام</label>
                                            <input asp-for="@Model.ExpertProfileDetails.InstagramAddress" type="text" class="form-control rounded" placeholder="https://instagram.com/" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <label class="mb-1"><i class="ti-linkedin theme-cl ms-1"></i>لینکدین</label>
                                            <input asp-for="@Model.ExpertProfileDetails.LinkedinAddress" type="text" class="form-control rounded" placeholder="https://linkedin.com/" />
                                        </div>
                                    </div>
                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                                        <div class="form-group">
                                            <button type="submit" class="btn theme-bg rounded text-light">ذخیره تغییرات</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>

    </form>
</div>

</div>

@* </div> *@
<!-- ======================= dashboard Detail End ======================== -->

<a id="tops-button" class="top-scroll" title="Back to top" href="#"><i class="ti-arrow-up"></i></a>

@section Scripts
{
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <script>
        $(document).ready(function () {

            $('.js-example-basic-multiple').select2(
                {
                    placeholder: "مهارت‌های خود را انتخاب کنید",
                    allowClear: true
                });
        });
    </script>
}